<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://www.gstatic.com/firebasejs/8.8.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.8.0/firebase-analytics.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.7.0/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.7.0/firebase-auth.js"></script>
  <script src="./src/js/firebase.js"></script>
  <script src="./src/js/common.js"></script>
  <link rel="shortcut icon" href="./src/img/favicon.ico" />
  <link rel="stylesheet" type="text/css" href="./src/css/font.css">
  <link rel="stylesheet" type="text/css" href="./src/css/common.css">  
  
  <title>warmWhite</title>
</head>
<body>
  <div class="container_width">
    <div class="container_height">
      <div class="title">
        <img src="./src/img/logo.png"/>
        <p>warmWhite</p>
      </div>
      <main class="fade" id="dataList">
      </main>
    </div>
  </div>
</body>
<script>
  const account=getSession();
  const parmas=getUrlParams();
  console.log(parmas.uid);
  if(!account){
    alert("로그인하세요");
  }
  // data load
  window.onload=function (){
    let dataList="";
    db.collection(parmas.uid).get().then((querySnapshot) => {
      querySnapshot.forEach((doc) => {
          tmpData=doc.data();
          pageURL=location.protocol+"//"+location.host;
          console.log(pageURL);
          console.log(doc.id);
          dataList+='<div class="listbox"><a href="'+pageURL+'/reader.html?uid='+parmas.uid+'&pageKey='+doc.id+'"><p>'+tmpData.title+'</p></a><p>'+tmpData.date+'</p></div>'
      });
      const dataListTag=document.getElementById('dataList');
      dataListTag.innerHTML=dataList;
    });
  }
</script>
<style>
  main a{
    color:black;
    font-size: 1.5rem;
    text-decoration: none;
    font-family: "NotoSansKRMedium";
  }
  main a:hover{
    font-size: 2rem;
  }
  .listbox{
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
  }
  .listbox a{
    display: inline;
  }
  .listbox p{
    display: inline;
  }
</style>
</html>